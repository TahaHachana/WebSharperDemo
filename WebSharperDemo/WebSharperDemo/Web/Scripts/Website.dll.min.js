(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;$.Define($$,{Website:{Crawler:{Client:{Viewer:$.Class({get_Body:function(){return c.urlForm();}}),appendTd:function(J,K){return d("<td/>").text(J).appendTo(K);},clearTable:function(){return c.removeRows("#table tr");},displayData:function(L,M){var N,O,P,V,W;N=(O=(P=$.Tupled(function(Q){var R,S,T;R=Q[0];S=Q[1];T=Q[2];return c.tableRow(R,S,T);}),function(U){return f.map(P,U);}),O(L));V=(W=function(X){return X.appendTo(d(M));},function(Y){return f.iter(W,Y);});return V(N);},removeRows:function(Z){return d(Z).each(function(_0){if(_0===0){return null;}else{return d(this).remove();}});},tableRow:function(_1,_2,_3){var _4;_4=d("<tr/>");c.appendTd(_1,_4);c.appendTd(_2,_4);c.appendTd(_3,_4);return _4;},urlForm:function(){var _5,_6,_7,_8,_9,bc,bd,be,bf,bw,bx,bz,bB,bD,bE,bF,bI;_5=(_6=h.Input(i.ofArray([h.Id("seed"),(_7=j.Attr(),_7.NewAttr("autofocus","autofocus"))])),(_8=(_9=function(){return function(ba){var bb;bb=ba.KeyCode;if(bb===13){return d("#submitButton").click();}else{return null;}};},function(bb){return k.Events().OnKeyDown(_9,bb);}),(_8(_6),_6)));bc=(bd=h.Button(i.ofArray([h.Text("Submit"),h.Id("submitButton"),h.Attr().Class("btn btn-primary")])),(be=(bf=function(){return function(){var bi,bj,bs;bi=(bj=function(){var bl,bm,bn,bo;c.clearTable();bl=_5.get_Value();bm=d("#loader");bm.css("visibility","visible");bn=l.Async("Website:0",[bl]);bo=function(bp){var bq,br;bm.css("visibility","hidden");if(bp.$==1){bq=bp.$0;br=bq.length;if(br===0){m("Crawling failed, check the provided URL.");return n.Return(null);}else{c.displayData(bq,"#table");return n.Return(null);}}else{m("The URL is not valid.");return n.Return(null);}};return n.Bind(bn,bo);},n.Delay(bj));bs=function(bt){var bu;bu={$:0};return n.Start(bt);};return bs(bi);};},function(bv){return k.Events().OnClick(bf,bv);}),(be(bd),bd)));bw=(bx=p.OfElement(function(){return _5;}),(bz=function(bA){return q.WithTextLabel("URL:",bA);},bz(bx)));bB=p.OfElement(function(){return bc;});bD=(bE=r.$(r.$((bF=function(){return function(){return null;};},p.Return(bF)),bw),bB),(bI=function(bJ){return q.WithFormContainer(bJ);},bI(bE)));return p.Run(function(){return null;},bD);}}},Forkme:{Viewer:$.Class({get_Body:function(){return s.ribbon();}}),ribbon:function(){return t.add(h.A(i.ofArray([h.HRef("https://github.com/TahaHachana/WebSharperDemo")])),i.ofArray([h.Img(i.ofArray([h.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),h.Alt("Fork me on GitHub"),h.Id("forkme")]))]));}},Geolocation:{Viewer:$.Class({get_Body:function(){return u.main();}}),main:function(){var bL,bM,bN,bO,bP,cu;bL=(bM=h.Div(i.ofArray([(bN=h.Attr(),bN.NewAttr("style","padding-bottom:20px; width:500px; height:300px;"))])),(bO=(bP=function(bQ){var bR,bS,bT;bR=new v.maps.LatLng(37.4419,-122.1419);bS={zoom:14,center:bR,mapTypeId:v.maps.MapTypeId.ROADMAP};bT=new v.maps.Map(bQ.Body,bS);return d("#locate-me").click(function(){var bV,bW,cq;bV=(bW=function(){var bY,bZ;bY=u.position();bZ=function(b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9,ck,cl,cm,co;b1=b0.coords;b2=new v.maps.LatLng(b1.latitude,b1.longitude);bT.panTo(b2);b3={position:b2};b3.map=bT;b4=new v.maps.Marker(b3);b5=(b6=[{}],(null,b6[0].bounds=new v.maps.LatLngBounds(b2),b6[0]));b7=(b8=i.ofArray([h.Text("")]),(b9=h.Tags(),b9.NewTag("address",b8)));(new v.maps.Geocoder()).geocode(b5,$.Tupled(function(b_){var b$,ca,cb,cc,cd,ce,cf,ci;b$=b_[0];ca=b_[1];if(w.Equals(ca,v.maps.GeocoderStatus.OK)){cb=(cc=(cd=b$[0].address_components,(ce=(cf=function(cg){return cg.short_name;},function(ch){return f.map(cf,ch);}),ce(cd))),(ci=function(cj){return x.concat(", ",cj);},ci(cc)));return b7.set_Html(cb);}else{return null;}}));ck={};ck.content=b7.Body;ck.position=b2;cl=new v.maps.InfoWindow(ck);cm=v.maps.event.addListener(b4,"click",function(){return cl.open(bT);});co=function(cp){cp;};co(cm);return n.Return(null);};return n.Bind(bY,bZ);},n.Delay(bW));cq=function(cr){var cs;cs={$:0};return n.Start(cr);};return cq(bV);});},function(ct){return t.OnAfterRender(bP,ct);}),(bO(bM),bM)));cu=t.add(h.Button(i.ofArray([h.Id("locate-me"),h.Attr().Class("btn btn-large btn-primary")])),i.ofArray([h.Text("Locate Me")]));return h.Div(i.ofArray([bL,cu]));},position:function(){var cv;cv=$.Tupled(function(cw){var cx,cy,cz;cx=cw[0];cy=cw[1];cz=cw[2];return y.navigator.geolocation.getCurrentPosition(cx);});return n.FromContinuations(function(cA){return function(cB){return cv([cA,cB,function(cC){cC;}]);};});}},Html5Logo:{Client:{Viewer:$.Class({get_Body:function(){return A.canvas();}}),canvas:function(){var cD,cE,cF,cG,cH,cI,cJ,cK;cD=(cE=j.Tags(),(cF=i.ofArray([(cG=h.Attr(),cG.NewAttr("style","display: none;"))]),cE.NewTag("canvas",cF)));cH=cD.Body;cH.height=400;cH.width=600;cI=cH.getContext("2d");cI.font="60px 'Gill Sans Ultra Bold'";cI.fillText("HTML",40,60);cI.translate(0,70);A.drawShape(cI,"#E34C26",44,255,i.ofArray([[22,5],[267,5],[244,255],[144,283]]));A.drawShape(cI,"#F06529",144,262,i.ofArray([[225,239],[244,25],[144,25]]));A.drawShape(cI,"#EBEBEB",144,118,i.ofArray([[103,118],[101,87],[144,87],[144,56],[67,56],[75,149],[144,149]]));A.drawShape(cI,"#EBEBEB",144,198,i.ofArray([[110,189],[108,164],[77,164],[81,212],[144,230]]));A.drawShape(cI,"#FFFFFF",144,118,i.ofArray([[144,149],[182,149],[178,189],[144,198],[144,230],[207,212],[215,118]]));A.drawShape(cI,"#FFFFFF",144,56,i.ofArray([[144,87],[218,87],[221,56]]));cJ=(cK=function(cL){return d(cL.Body).fadeIn(1000);},function(cM){return t.OnAfterRender(cK,cM);});cJ(cD);return cD;},drawLine:function(cN,cO,cP){return cN.lineTo(cO,cP);},drawPaths:function(cQ,cR){var cS,cT;cS=(cT=$.Tupled(function(cU){var cV,cW;cV=cU[0];cW=cU[1];return A.drawLine(cQ,cV,cW);}),function(cX){return B.iter(cT,cX);});cS(cR);cQ.closePath();return cQ.fill();},drawShape:function(cY,cZ,c0,c1,c2){return(($.Tupled(function(c3){return function(c4){cY.fillStyle=cZ;cY.beginPath();($.Tupled(function(c5){var c6,c7;c6=c5[0];c7=c5[1];return cY.moveTo(c6,c7);}))(c3);return A.drawPaths(cY,c4);};}))([c0,c1]))(c2);}}},Slideshow:{Viewer:$.Class({get_Body:function(){return C.main();}}),animateSlideshow:function(c8,c9){var c_,c$,da,db,dc,dd,de,dg,dj,dm,dn;c_={contents:true};c$=d("#slidesContainer");da=c$.width();db="-"+$$.String(da)+"px";dc=d(".slide").length;dd=$$.String(dc*da)+"px";c$.css("width",dd);d(".slide").filter(":first").before(d(".slide").filter(":last"));c$.css("left",db);de=function(){d(".slide").filter(":last").after(d(".slide").filter(":first"));c$.css("left","0px");return c$.animate({left:-da},c8);};dg=function(){return c$.animate({left:0},c8,function(){c$.css("left",db);return d(".slide").filter(":first").before(d(".slide").filter(":last"));});};dj=function(){var dl;dl=c_.contents;if(dl){return de(null);}else{return null;}};dm=D(dj,c9);dn=function(_do){_do;};dn(dm);d(".slide, .carouselControl").hover(function(){c_.contents=false;});d(".slide").mouseout(function(){c_.contents=true;});return d(".carouselControl").click(function(){var ds,dt;ds=d(this).attr("id")==="rightControl";dt=function(du){if(du){return de(null);}else{return dg(null);}};return dt(ds);});},main:function(){var dv,dw,dx,dz,dA;dv=t.add(h.Div(i.ofArray([(dw=h.Attr(),dw.NewAttr("id","slideshow"))])),i.ofArray([t.add(h.Div(i.ofArray([(dx=h.Attr(),dx.NewAttr("id","slidesContainer"))])),B.toList(B.delay(function(){return C.slides();}))),h.Span(i.ofArray([h.Attr().Class("carouselControl"),h.Id("leftControl"),h.Text("\u2039")])),h.Span(i.ofArray([h.Attr().Class("carouselControl"),h.Id("rightControl"),h.Text("\u203a")]))]));dz=(dA=function(){return C.animateSlideshow(700,4000);},function(dC){return t.OnAfterRender(dA,dC);});dz(dv);return dv;},slideDiv:function(dD,dE,dF){return t.add(h.Div(i.ofArray([h.Attr().Class("slide")])),i.ofArray([h.Img(i.ofArray([h.Src(dD.Src),h.Alt(dD.Alt),h.Height(dE),h.Width(dF)])),t.add(h.Div(i.ofArray([h.Attr().Class("carouselCaption")])),i.ofArray([h.H4(i.ofArray([h.Text(dD.Heading)])),h.P(i.ofArray([h.Text(dD.Description)])),h.A(i.ofArray([h.Text("Click Here"),h.HRef(dD.Href)]))]))]));},slides:$.Field(function(){var dG,dH,dI;dG=i.ofArray([{Src:"Images/Carousel/Slide1.jpg",Alt:"Slide 1",Heading:"Slide 1",Description:"Slide 1 description",Href:"#"},{Src:"Images/Carousel/Slide2.jpg",Alt:"Slide 2",Heading:"Slide 2",Description:"Slide 2 description",Href:"#"},{Src:"Images/Carousel/Slide3.jpg",Alt:"Slide 3",Heading:"Slide 3",Description:"Slide 3 description",Href:"#"},{Src:"Images/Carousel/Slide4.jpg",Alt:"Slide 4",Heading:"Slide 4",Description:"Slide 4 description",Href:"#"}]);dH=(dI=function(dJ){return C.slideDiv(dJ,"512","958");},function(dK){return i.map(dI,dK);});return dH(dG);})},Twitter:{Client:{atRegex:$.Field(function(){return new E("(@)([A-Za-z0-9-_]+)","g");}),displayTweets:function(dL){return d.getJSON("http://search.twitter.com/search.json?q=%23fsharp&amp;rpp=50&amp;callback=?",$.Tupled(function(dM){var dN,dO,dP,dQ,dR;dN=dM[0];dO=dM[1];dP=dN.results;dQ=(dR=function(dS){var dT,dU,dV;dT=(G.linkify())(dS.text);dU=G.tweetLi(dS.from_user,dS.id_str,dS.profile_image_url,dS.from_user_name,dT,dS.created_at);dV=function(dW){return dL.AppendI(dW);};return dV(dU);},function(dX){return f.iter(dR,dX);});return dQ(dP);}));},handleTweetActions:function(){var dY;dY=d("a.tweet-action-link");return dY.click(function(dZ){var d0,d1,d2;dZ.preventDefault();d0=this.getAttribute("href");d1=y.showModalDialog(d0);d2=function(d3){d3;};return d2(d1);});},hashRegex:$.Field(function(){return new E("(#)([A-Za-z0][A-Za-z0-9-_]+)","g");}),linkify:$.Field(function(){var d4,d5,d7,d_;d4=(d5=function(d6){return G.replaceUrls(d6);},(d7=function(d8){return G.replaceUsers(d8);},function(d9){return d7(d5(d9));}));d_=function(d$){return G.replaceHashs(d$);};return function(ea){return d_(d4(ea));};}),main:function(){var eb,ec,ed;eb=h.UL(i.ofArray([h.Attr().Class("unstyled")]));ec=(ed=function(ee){var ef,eg,el;ef=(eg=function(){var ei,ej;ei=G.displayTweets(ee);ej=function(ek){ek;};ej(ei);G.toggleActionsVisibility();G.handleTweetActions();return n.Return(null);},n.Delay(eg));el=function(em){var en;en={$:0};return n.Start(em);};return el(ef);},function(eo){return t.OnAfterRender(ed,eo);});ec(eb);return eb;},replaceHashs:function(ep){return(new H(ep)).replace(G.hashRegex(),"<a href=\"https://twitter.com/search/?q=%23$2\" target=\"_blank\">#$2</a>");},replaceUrls:function(eq){return(new H(eq)).replace(G.urlRegex(),"<a href=\"$1\" target=\"_blank\">$1</a>");},replaceUsers:function(er){return(new H(er)).replace(G.atRegex(),"<a href=\"https://twitter.com/$2\" target=\"_blank\">@$2</a>");},toggleActionsVisibility:function(){var es;es=d(".tweet");es.mouseenter(function(){return d(".tweetActions",this).css("visibility","visible");});return es.mouseleave(function(){return d(".tweetActions",this).css("visibility","hidden");});},tweetLi:function(ev,ew,ex,ey,ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;eB="https://twitter.com/"+ev;eC="https://twitter.com/intent/tweet?in_reply_to="+ew;eD="https://twitter.com/intent/retweet?tweet_id="+ew;eE="https://twitter.com/intent/favorite?tweet_id="+ew;eF=h.P($.New(I,{$:0}));eF.set_Html(ez);return t.add(h.LI(i.ofArray([h.Attr().Class("tweet"),(eG=h.Attr(),eG.NewAttr("style","clear: both;"))])),i.ofArray([h.Div(i.ofArray([t.add(t.add(h.A(i.ofArray([h.HRef(eB),h.Attr().Class("twitterProfileLink")])),i.ofArray([h.Img(i.ofArray([h.Src(ex),h.Alt(ey),h.Attr().Class("avatar"),h.Height("48"),h.Width("48")])),(eH=i.ofArray([h.Text(ey)]),(eI=h.Tags(),eI.NewTag("strong",eH)))])),i.ofArray([h.Text(" @"+ev)])),h.Br($.New(I,{$:0})),(eJ=i.ofArray([h.Text(eA)]),(eK=h.Tags(),eK.NewTag("small",eJ))),eF,t.add(h.Div(i.ofArray([h.Attr().Class("tweetActions"),(eL=h.Attr(),eL.NewAttr("style","visibility: hidden;"))])),i.ofArray([t.add(h.A(i.ofArray([h.HRef(eC),h.Attr().Class("tweet-action-link"),(eM=h.Attr(),eM.NewAttr("style","margin-right: 5px;"))])),i.ofArray([h.Text("Reply")])),t.add(h.A(i.ofArray([h.HRef(eD),h.Attr().Class("tweet-action-link"),(eN=h.Attr(),eN.NewAttr("style","margin-right: 5px;"))])),i.ofArray([h.Text("Retweet")])),t.add(h.A(i.ofArray([h.HRef(eE),h.Attr().Class("tweet-action-link")])),i.ofArray([h.Text("Favorite")]))]))]))]));},urlRegex:$.Field(function(){return new E("([A-Za-z]+:\\/\\/[A-Za-z0-9-_]+\\.[A-Za-z0-9-_:%&amp;;\\?\\/.=]+)","g");})},Control:$.Class({get_Body:function(){return G.main();}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Crawler);c=$.Safe(b.Client);d=$.Safe($$.jQuery);e=$.Safe($$.IntelliFactory.WebSharper);f=$.Safe(e.Arrays);g=$.Safe(e.Html);h=$.Safe(g.Default);i=$.Safe(e.List);j=$.Safe(h.HTML5);k=$.Safe(g.EventsPervasives);l=$.Safe(e.Remoting);m=$.Safe($$.alert);n=$.Safe(e.Concurrency);o=$.Safe(e.Formlet);p=$.Safe(o.Formlet);q=$.Safe(o.Enhance);r=$.Safe(o.Data);s=$.Safe(a.Forkme);t=$.Safe(g.Operators);u=$.Safe(a.Geolocation);v=$.Safe($$.google);w=$.Safe(e.Unchecked);x=$.Safe(e.Strings);y=$.Safe($$.window);z=$.Safe(a.Html5Logo);A=$.Safe(z.Client);B=$.Safe(e.Seq);C=$.Safe(a.Slideshow);D=$.Safe($$.setInterval);E=$.Safe($$.RegExp);F=$.Safe(a.Twitter);G=$.Safe(F.Client);H=$.Safe($$.String);return I=$.Safe(i.T);});$.OnLoad(function(){G.urlRegex();G.linkify();G.hashRegex();G.atRegex();C.slides();});}());
